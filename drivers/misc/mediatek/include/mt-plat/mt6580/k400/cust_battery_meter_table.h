#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mt-plat/battery_meter.h>

/* ============================================================*/
/* define*/
/* ============================================================*/
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R	16900
#define RBAT_PULL_DOWN_R	27000
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R	61900
#define RBAT_PULL_DOWN_R	100000
#endif
#define RBAT_PULL_UP_VOLT	1800



/* ============================================================*/
/* ENUM*/
/* ============================================================*/

/* ============================================================*/
/* structure*/
/* ============================================================*/

/* ============================================================*/
/* typedef*/
/* ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================*/
/* External Variables*/
/* ============================================================*/

/* ============================================================*/
/* External function*/
/* ============================================================*/

/* ============================================================*/
/* <DOD, Battery_Voltage> Table*/
/* ============================================================*/
#if (BAT_NTC_10 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-30,127476},
        {-25,96862},
        {-20,74354},
        {-15,57626},
        {-10,45068},
        { -5,35548},
        {  0,28267},
        {  5,22650},
        { 10,18280},
        { 15,14855},
        { 20,12151},
        { 25,10000},
        { 30,8279},
        { 35,6892},
        { 40,5768},
        { 45,4852},
        { 50,4101},
        { 55,3483},
        { 60,2970},
        { 65,2544},
        { 70,2188},
        { 75,1889},
        { 80,1637}
};
#endif

#if (BAT_NTC_47 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
		{-20, 483954},
		{-15, 360850},
		{-10, 271697},
		{ -5, 206463},
		{  0, 158214},
		{  5, 122259},
		{ 10, 95227},
		{ 15, 74730},
		{ 20, 59065},
		{ 25, 47000},
		{ 30, 37643},
		{ 35, 30334},
		{ 40, 24591},
		{ 45, 20048},
		{ 50, 16433},
		{ 55, 13539},
		{ 60, 11210}
	};
#endif

/* T0 -10C*/
BATTERY_PROFILE_STRUCT battery_profile_t0[] =
{
    {0  , 4339},
    {2  , 4307},
    {4  , 4281},
    {5  , 4259},
    {7  , 4240},
    {9  , 4222},
    {11 , 4204},
    {12 , 4189},
    {14 , 4173},
    {16 , 4157},
    {18 , 4142},
    {19 , 4128},
    {21 , 4116},
    {23 , 4105},
    {25 , 4093},
    {26 , 4078},
    {28 , 4058},
    {30 , 4034},
    {32 , 4012},
    {33 , 3994},
    {35 , 3979},
    {37 , 3967},
    {39 , 3955},
    {40 , 3945},
    {42 , 3935},
    {44 , 3925},
    {46 , 3915},
    {47 , 3904},
    {49 , 3894},
    {51 , 3884},
    {53 , 3874},
    {54 , 3864},
    {56 , 3856},
    {58 , 3848},
    {60 , 3840},
    {62 , 3833},
    {63 , 3827},
    {65 , 3821},
    {67 , 3815},
    {69 , 3811},
    {70 , 3807},
    {72 , 3804},
    {74 , 3801},
    {76 , 3798},
    {77 , 3796},
    {79 , 3794},
    {81 , 3792},
    {83 , 3790},
    {84 , 3788},
    {86 , 3786},
    {88 , 3784},
    {90 , 3783},
    {91 , 3780},
    {93 , 3777},
    {95 , 3774},
    {97 , 3771},
    {98 , 3767},
    {100, 3763},
    {100, 3759},
    {100, 3756},
    {100, 3753},
    {100, 3750},
    {100, 3747},
    {100, 3744},
    {100, 3741},
    {100, 3739},
    {100, 3736},
    {100, 3734},
    {100, 3731},
    {100, 3729},
    {100, 3727},
    {100, 3724},
    {100, 3722},
    {100, 3719},
    {100, 3717},
    {100, 3714},
    {100, 3712},
    {100, 3710},
    {100, 3709},
    {100, 3709} 
};      

/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] =
{  
    {0  , 4337},
    {2  , 4309},
    {3  , 4287},
    {5  , 4268},
    {6  , 4250},
    {8  , 4233},
    {10 , 4216},
    {11 , 4200},
    {13 , 4185},
    {14 , 4170},
    {16 , 4155},
    {17 , 4140},
    {19 , 4125},
    {21 , 4111},
    {22 , 4100},
    {24 , 4090},
    {25 , 4079},
    {27 , 4063},
    {29 , 4039},
    {30 , 4014},
    {32 , 3995},
    {33 , 3980},
    {35 , 3968},
    {37 , 3959},
    {38 , 3950},
    {40 , 3942},
    {41 , 3933},
    {43 , 3923},
    {44 , 3911},
    {46 , 3899},
    {48 , 3887},
    {49 , 3876},
    {51 , 3865},
    {52 , 3855},
    {54 , 3846},
    {56 , 3839},
    {57 , 3832},
    {59 , 3825},
    {60 , 3819},
    {62 , 3814},
    {63 , 3809},
    {65 , 3804},
    {67 , 3800},
    {68 , 3797},
    {70 , 3794},
    {71 , 3792},
    {73 , 3790},
    {75 , 3789},
    {76 , 3787},
    {78 , 3785},
    {79 , 3784},
    {81 , 3782},
    {83 , 3780},
    {84 , 3778},
    {86 , 3775},
    {87 , 3771},
    {89 , 3766},
    {90 , 3761},
    {92 , 3756},
    {94 , 3750},
    {95 , 3742},
    {97 , 3734},
    {98 , 3725},
    {100, 3716},
    {100, 3705},
    {100, 3700},
    {100, 3697},
    {100, 3695},
    {100, 3694},
    {106, 3692},
    {100, 3691},
    {100, 3689},
    {108, 3687},
    {109, 3685},
    {109, 3682},
    {100, 3678},
    {100, 3673},
    {100, 3665},
    {100, 3657},
    {100, 3657} 
};

/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] = 
{
    {0  , 4293},
    {1  , 4276},
    {3  , 4259},
    {4  , 4243},
    {6  , 4227},
    {7  , 4211},
    {8  , 4196},
    {10 , 4181},
    {11 , 4167},
    {13 , 4152},
    {14 , 4136},
    {16 , 4122},
    {17 , 4107},
    {18 , 4093},
    {20 , 4081},
    {21 , 4074},
    {23 , 4065},
    {24 , 4045},
    {25 , 4018},
    {27 , 3998},
    {28 , 3984},
    {30 , 3974},
    {31 , 3968},
    {33 , 3964},
    {34 , 3955},
    {35 , 3945},
    {37 , 3934},
    {38 , 3924},
    {40 , 3911},
    {41 , 3897},
    {42 , 3882},
    {44 , 3869},
    {45 , 3859},
    {47 , 3850},
    {48 , 3842},
    {49 , 3836},
    {51 , 3829},
    {52 , 3823},
    {54 , 3818},
    {55 , 3813},
    {57 , 3808},
    {58 , 3804},
    {59 , 3799},
    {61 , 3796},
    {62 , 3792},
    {64 , 3788},
    {65 , 3785},
    {66 , 3782},
    {68 , 3779},
    {69 , 3776},
    {71 , 3773},
    {72 , 3769},
    {74 , 3765},
    {75 , 3760},
    {76 , 3755},
    {78 , 3750},
    {79 , 3746},
    {81 , 3741},
    {82 , 3735},
    {83 , 3727},
    {85 , 3719},
    {86 , 3711},
    {88 , 3700},
    {89 , 3693},
    {90 , 3691},
    {92 , 3689},
    {93 , 3687},
    {95 , 3680},
    {96 , 3648},
    {98 , 3580},
    {99 , 3481},
    {100, 3372},
    {100, 3323},
    {100, 3299},
    {100, 3287},
    {100, 3280},
    {100, 3276},
    {100, 3276},
    {100, 3276},
    {100, 3276} 
};

/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] =
{
    {0  , 4325},
    {1  , 4287},
    {3  , 4269},
    {4  , 4252},
    {6  , 4235},
    {7  , 4219},
    {8  , 4203},
    {10 , 4188},
    {11 , 4172},
    {13 , 4157},
    {14 , 4142},
    {16 , 4127},
    {17 , 4112},
    {18 , 4098},
    {20 , 4084},
    {21 , 4070},
    {23 , 4056},
    {24 , 4047},
    {26 , 4030},
    {27 , 4012},
    {28 , 4000},
    {30 , 3993},
    {31 , 3981},
    {33 , 3970},
    {34 , 3960},
    {35 , 3949},
    {37 , 3938},
    {38 , 3928},
    {40 , 3917},
    {41 , 3904},
    {43 , 3888},
    {44 , 3873},
    {45 , 3862},
    {47 , 3853},
    {48 , 3845},
    {50 , 3838},
    {51 , 3831},
    {52 , 3825},
    {54 , 3819},
    {55 , 3813},
    {57 , 3809},
    {58 , 3804},
    {60 , 3799},
    {61 , 3795},
    {62 , 3791},
    {64 , 3787},
    {65 , 3784},
    {67 , 3780},
    {68 , 3777},
    {70 , 3773},
    {71 , 3766},
    {72 , 3756},
    {74 , 3750},
    {75 , 3744},
    {77 , 3739},
    {78 , 3734},
    {79 , 3729},
    {81 , 3725},
    {82 , 3720},
    {84 , 3712},
    {85 , 3704},
    {87 , 3697},
    {88 , 3686},
    {89 , 3679},
    {91 , 3678},
    {92 , 3676},
    {94 , 3674},
    {95 , 3668},
    {96 , 3635},
    {98 , 3571},
    {99 , 3478},
    {100, 3312},
    {100, 3260},
    {100, 3251},
    {100, 3247},
    {100, 3246},
    {100, 3245},
    {100, 3244},
    {100, 3244},
    {100, 3244} 
};           

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3*/
BATTERY_PROFILE_STRUCT battery_profile_temperature[] =
{
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   }
};    

/* ============================================================*/
/* <Rbat, Battery_Voltage> Table*/
/* ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] =
{
    {1600, 4339},
    {1600, 4307},
    {1585, 4281},
    {1553, 4259},
    {1525, 4240},
    {1498, 4222},
    {1470, 4204},
    {1448, 4189},
    {1425, 4173},
    {1403, 4157},
    {1385, 4142},
    {1368, 4128},
    {1360, 4116},
    {1353, 4105},
    {1345, 4093},
    {1333, 4078},
    {1310, 4058},
    {1280, 4034},
    {1258, 4012},
    {1245, 3994},
    {1235, 3979},
    {1233, 3967},
    {1230, 3955},
    {1228, 3945},
    {1230, 3935},
    {1228, 3925},
    {1223, 3915},
    {1215, 3904},
    {1210, 3894},
    {1205, 3884},
    {1200, 3874},
    {1193, 3864},
    {1190, 3856},
    {1190, 3848},
    {1188, 3840},
    {1188, 3833},
    {1190, 3827},
    {1193, 3821},
    {1195, 3815},
    {1200, 3811},
    {1203, 3807},
    {1210, 3804},
    {1218, 3801},
    {1225, 3798},
    {1238, 3796},
    {1248, 3794},
    {1260, 3792},
    {1273, 3790},
    {1285, 3788},
    {1300, 3786},
    {1313, 3784},
    {1330, 3783},
    {1343, 3780},
    {1355, 3777},
    {1370, 3774},
    {1388, 3771},
    {1403, 3767},
    {1408, 3763},
    {1398, 3759},
    {1390, 3756},
    {1385, 3753},
    {1375, 3750},
    {1370, 3747},
    {1363, 3744},
    {1353, 3741},
    {1348, 3739},
    {1340, 3736},
    {1338, 3734},
    {1328, 3731},
    {1325, 3729},
    {1320, 3727},
    {1310, 3724},
    {1308, 3722},
    {1298, 3719},
    {1293, 3717},
    {1288, 3714},
    {1283, 3712},
    {1278, 3710},
    {1275, 3709},
    {1273, 3709}
};             
               
/* T1 0C*/     
R_PROFILE_STRUCT r_profile_t1[] = 
{              
    {394, 4337},
    {394, 4309},
    {396, 4287},
    {395, 4268},
    {392, 4250},
    {389, 4233},
    {384, 4216},
    {380, 4200},
    {377, 4185},
    {374, 4170},
    {372, 4155},
    {369, 4140},
    {366, 4125},
    {364, 4111},
    {364, 4100},
    {365, 4090},
    {366, 4079},
    {363, 4063},
    {354, 4039},
    {345, 4014},
    {341, 3995},
    {339, 3980},
    {339, 3968},
    {340, 3959},
    {341, 3950},
    {340, 3942},
    {340, 3933},
    {338, 3923},
    {335, 3911},
    {331, 3899},
    {327, 3887},
    {325, 3876},
    {323, 3865},
    {322, 3855},
    {321, 3846},
    {321, 3839},
    {323, 3832},
    {322, 3825},
    {322, 3819},
    {324, 3814},
    {326, 3809},
    {327, 3804},
    {329, 3800},
    {331, 3797},
    {333, 3794},
    {337, 3792},
    {341, 3790},
    {347, 3789},
    {351, 3787},
    {356, 3785},
    {363, 3784},
    {369, 3782},
    {375, 3780},
    {382, 3778},
    {388, 3775},
    {395, 3771},
    {402, 3766},
    {410, 3761},
    {419, 3756},
    {430, 3750},
    {441, 3742},
    {454, 3734},
    {467, 3725},
    {482, 3716},
    {498, 3705},
    {500, 3700},
    {497, 3697},
    {495, 3695},
    {494, 3694},
    {493, 3692},
    {492, 3691},
    {489, 3689},
    {487, 3687},
    {485, 3685},
    {483, 3682},
    {479, 3678},
    {474, 3673},
    {466, 3665},
    {458, 3657},
    {458, 3657}
};      
        
/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = 
{       
    {133, 4293},
    {133, 4276},
    {130, 4259},
    {130, 4243},
    {128, 4227},
    {126, 4211},
    {126, 4196},
    {126, 4181},
    {128, 4167},
    {128, 4152},
    {126, 4136},
    {130, 4122},
    {128, 4107},
    {128, 4093},
    {130, 4081},
    {137, 4074},
    {142, 4065},
    {135, 4045},
    {128, 4018},
    {128, 3998},
    {130, 3984},
    {130, 3974},
    {135, 3968},
    {140, 3964},
    {137, 3955},
    {138, 3945},
    {138, 3934},
    {140, 3924},
    {137, 3911},
    {131, 3897},
    {123, 3882},
    {119, 3869},
    {117, 3859},
    {116, 3850},
    {114, 3842},
    {116, 3836},
    {114, 3829},
    {116, 3823},
    {117, 3818},
    {117, 3813},
    {117, 3808},
    {119, 3804},
    {119, 3799},
    {123, 3796},
    {123, 3792},
    {123, 3788},
    {124, 3785},
    {124, 3782},
    {124, 3779},
    {126, 3776},
    {126, 3773},
    {124, 3769},
    {124, 3765},
    {124, 3760},
    {126, 3755},
    {126, 3750},
    {128, 3746},
    {130, 3741},
    {133, 3735},
    {135, 3727},
    {137, 3719},
    {142, 3711},
    {144, 3700},
    {147, 3693},
    {152, 3691},
    {161, 3689},
    {173, 3687},
    {191, 3680},
    {207, 3648},
    {229, 3580},
    {220, 3481},
    {220, 3372},
    {217, 3323},
    {173, 3299},
    {152, 3287},
    {140, 3280},
    {133, 3276},
    {135, 3276},
    {135, 3276},
    {135, 3276}
};

/* T3 50C*/                       
R_PROFILE_STRUCT r_profile_t3[] = 
{                                 
    {138, 4325},                  
    {138, 4287},                  
    {143, 4269},                  
    {140, 4252},                  
    {140, 4235},                  
    {140, 4219},                  
    {140, 4203},                  
    {143, 4188},                  
    {140, 4172},                  
    {140, 4157},                  
    {143, 4142},                  
    {143, 4127},                  
    {143, 4112},                  
    {143, 4098},                  
    {146, 4084},                  
    {146, 4070},                  
    {146, 4056},                  
    {159, 4047},                  
    {150, 4030},                  
    {150, 4012},                  
    {153, 4000},                  
    {156, 3993},                  
    {153, 3981},                  
    {156, 3970},                  
    {159, 3960},                  
    {163, 3949},                  
    {163, 3938},                  
    {169, 3928},                  
    {172, 3917},                  
    {169, 3904},                  
    {159, 3888},                  
    {150, 3873},                  
    {146, 3862},                  
    {146, 3853},                  
    {143, 3845},                  
    {146, 3838},                  
    {143, 3831},                  
    {146, 3825},                  
    {146, 3819},                  
    {146, 3813},                  
    {150, 3809},                  
    {153, 3804},                  
    {150, 3799},                  
    {153, 3795},                  
    {156, 3791},                  
    {156, 3787},                  
    {159, 3784},                  
    {159, 3780},                  
    {163, 3777},                  
    {163, 3773},                  
    {156, 3766},                  
    {150, 3756},                  
    {153, 3750},                  
    {150, 3744},                  
    {150, 3739},                  
    {153, 3734},                  
    {153, 3729},                  
    {156, 3725},                  
    {156, 3720},                  
    {153, 3712},                  
    {156, 3704},                  
    {159, 3697},                  
    {156, 3686},                  
    {153, 3679},                  
    {156, 3678},                  
    {159, 3676},                  
    {166, 3674},                  
    {172, 3668},                  
    {172, 3635},                  
    {179, 3571},                  
    {195, 3478},                  
    {237, 3312},                  
    {195, 3260},                  
    {169, 3251},                  
    {156, 3247},                  
    {153, 3246},                  
    {150, 3245},                  
    {146, 3244},                  
    {146, 3244},                  
    {146, 3244}                   
};                                
/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = 
{
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   }
};    

/* ============================================================*/
/* function prototype*/
/* ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

